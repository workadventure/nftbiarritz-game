<html>
    <head>
        <title>Indices</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="./css.css">
    </head>
    <body>
        <h1>La phrase secr√®te üëÄ</h1>
        <!-- show words found -->
        <p style="font-size: 30px;">
            <span id="word1">---</span>
            <span id="word2">--------</span>
            <span id="word3">----</span>
            <span id="word4">----</span>
            <span id="word5">--</span>
            <span id="word6">-----</span>
        </p>

        <!-- show badge with picture associated -->
        <div class="badges" style="display:flex;flex-direction: row;justify-content: center;align-items: center;">
            <img id="badgeword1" src="./images/word1.png" alt="badge word 1" style="display: none;">
            <img id="badgeword2" src="./images/word2.png" alt="badge word 2" style="display: none;">
            <img id="badgeword3" src="./images/word3.png" alt="badge word 3" style="display: none;">
            <img id="badgeword4" src="./images/word4.png" alt="badge word 4" style="display: none;">
            <img id="badgeword5" src="./images/word5.png" alt="badge word 5" style="display: none;">
            <img id="badgeword6" src="./images/word6.png" alt="badge word 6" style="display: none;">
        </div>

        <p style="display: none;" id="indiceTitle">Ton dernier indice :</p>
        <p id="lastIndice" style="font-weight: bold;"></p>

        <script type="text/javascript">
            const sentence = {
                word1: 'NFT',
                word2: 'Biarritz',
                word3: '2023',
                word4: 'c\'est',
                word5: 'la',
                word6: 'folie',
            }

            const indices = {
                word1: "Est-ce que tu aimes les jeux d'√©checs avec le capitaine sur le pont ?",
                word2: "Tu pourras d√©couvrir un certain go√ªt pour la chasse en soute !",
                word3: "Un tr√©sor se trouve √† la vue de tous !",
                word4: "Bien cach√©, il faut s'aventurer dans les coins les plus sombres de la soute (l'√©chelle te sera utile) !",
                word5: "Est-ce que tu as d√©j√† vu les appartements du capitaine et le tr√©sor qu'il renferme ?",
                word6: "Un un bateau, un capitaine, un tr√©sor, un chemin secret, une √Æle d√©seret... Tu pourras y faire une pri√®re !",
            }

            const url = new URL(window.location.toString());
            const wordsFound = url.searchParams.get("words");
            // show words find by user
            if(wordsFound){
                for(const word of Object.keys(sentence)){
                    if(wordsFound.indexOf(word) != -1){
                        document.getElementById(word).innerHTML = sentence[word];
                        document.getElementById(`badge${word}`).style.display = "block";
                    }
                }
            }

            // show the last indice
            const currentIndice = url.searchParams.get("lastIndice");
            if(currentIndice != undefined && currentIndice !== "noindice" && currentIndice !== "undefined"){
                document.getElementById("indiceTitle").style.display = "block";
                document.getElementById("lastIndice").innerHTML = indices[currentIndice];
            }
        </script>
    </body>
</html>